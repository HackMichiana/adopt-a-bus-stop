/* ===================================================
 * bootstrap-transition.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){t(function(){"use strict";t.support.transition=function(){var e=document.body||document.documentElement,s=e.style,n=void 0!==s.transition||void 0!==s.WebkitTransition||void 0!==s.MozTransition||void 0!==s.MsTransition||void 0!==s.OTransition;return n&&{end:function(){var e="TransitionEnd";return t.browser.webkit?e="webkitTransitionEnd":t.browser.mozilla?e="transitionend":t.browser.opera&&(e="oTransitionEnd"),e}()}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e='[data-dismiss="alert"]',s=function(s){t(s).on("click",e,this.close)};s.prototype={constructor:s,close:function(e){function s(){n.trigger("closed").remove()}var n,i=t(this),o=i.attr("data-target");o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),n=t(o),n.trigger("close"),e&&e.preventDefault(),n.length||(n=i.hasClass("alert")?i:i.parent()),n.trigger("close").removeClass("in"),t.support.transition&&n.hasClass("fade")?n.on(t.support.transition.end,s):s()}},t.fn.alert=function(e){return this.each(function(){var n=t(this),i=n.data("alert");i||n.data("alert",i=new s(this)),"string"==typeof e&&i[e].call(n)})},t.fn.alert.Constructor=s,t(function(){t("body").on("click.alert.data-api",e,s.prototype.close)})}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,s)};e.prototype={constructor:e,setState:function(t){var e="disabled",s=this.$element,n=s.data(),i=s.is("input")?"val":"html";t+="Text",n.resetText||s.data("resetText",s[i]()),s[i](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?s.addClass(e).attr(e,e):s.removeClass(e).removeAttr(e)},0)},toggle:function(){var t=this.$element.parent('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")}},t.fn.button=function(s){return this.each(function(){var n=t(this),i=n.data("button"),o="object"==typeof s&&s;i||n.data("button",i=new e(this,o)),"toggle"==s?i.toggle():s&&i.setState(s)})},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t(function(){t("body").on("click.button.data-api","[data-toggle^=button]",function(e){var s=t(e.target);s.hasClass("btn")||(s=s.closest(".btn")),s.button("toggle")})})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.carousel.defaults,s),this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(){return this.interval=setInterval(t.proxy(this.next,this),this.options.interval),this},to:function(e){var s=this.$element.find(".active"),n=s.parent().children(),i=n.index(s),o=this;if(!(e>n.length-1||0>e))return this.sliding?this.$element.one("slid",function(){o.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(n[e]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(e,s){var n=this.$element.find(".active"),i=s||n[e](),o=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;return this.sliding=!0,o&&this.pause(),i=i.length?i:this.$element.find(".item")[a](),i.hasClass("active")?void 0:(!t.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(i.addClass(e),i[0].offsetWidth,n.addClass(r),i.addClass(r),this.$element.trigger("slide"),this.$element.one(t.support.transition.end,function(){i.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})),o&&this.cycle(),this)}},t.fn.carousel=function(s){return this.each(function(){var n=t(this),i=n.data("carousel"),o="object"==typeof s&&s;i||n.data("carousel",i=new e(this,o)),"number"==typeof s?i.to(s):"string"==typeof s||(s=o.slide)?i[s]():i.cycle()})},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t(function(){t("body").on("click.carousel.data-api","[data-slide]",function(e){var s,n=t(this),i=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")),o=!i.data("modal")&&t.extend({},i.data(),n.data());i.carousel(o),e.preventDefault()})})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,s),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,s=this.dimension(),n=t.camelCase(["scroll",s].join("-")),i=this.$parent&&this.$parent.find(".in");i&&i.length&&(e=i.data("collapse"),i.collapse("hide"),e||i.data("collapse",null)),this.$element[s](0),this.transition("addClass","show","shown"),this.$element[s](this.$element[0][n])},hide:function(){var t=this.dimension();this.reset(this.$element[t]()),this.transition("removeClass","hide","hidden"),this.$element[t](0)},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[t?"addClass":"removeClass"]("collapse"),this},transition:function(e,s,n){var i=this,o=function(){"show"==s&&i.reset(),i.$element.trigger(n)};this.$element.trigger(s)[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,o):o()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},t.fn.collapse=function(s){return this.each(function(){var n=t(this),i=n.data("collapse"),o="object"==typeof s&&s;i||n.data("collapse",i=new e(this,o)),"string"==typeof s&&i[s]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t(function(){t("body").on("click.collapse.data-api","[data-toggle=collapse]",function(e){var s,n=t(this),i=n.attr("data-target")||e.preventDefault()||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""),o=t(i).data("collapse")?"toggle":n.data();t(i).collapse(o)})})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";function e(){t(s).parent().removeClass("open")}var s='[data-toggle="dropdown"]',n=function(e){var s=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){s.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(){var s,n,i=t(this),o=i.attr("data-target");return o||(o=i.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),s=t(o),s.length||(s=i.parent()),n=s.hasClass("open"),e(),!n&&s.toggleClass("open"),!1}},t.fn.dropdown=function(e){return this.each(function(){var s=t(this),i=s.data("dropdown");i||s.data("dropdown",i=new n(this)),"string"==typeof e&&i[e].call(s)})},t.fn.dropdown.Constructor=n,t(function(){t("html").on("click.dropdown.data-api",e),t("body").on("click.dropdown.data-api",s,n.prototype.toggle)})}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(t){"use strict";function e(){var e=this,n=setTimeout(function(){e.$element.off(t.support.transition.end),s.call(e)},500);this.$element.one(t.support.transition.end,function(){clearTimeout(n),s.call(e)})}function s(){this.$element.hide().trigger("hidden"),n.call(this)}function n(e){var s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;this.$backdrop=t('<div class="modal-backdrop '+s+'" />').appendTo(document.body),"static"!=this.options.backdrop&&this.$backdrop.click(t.proxy(this.hide,this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),n?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,t.proxy(i,this)):i.call(this)):e&&e()}function i(){this.$backdrop.remove(),this.$backdrop=null}function o(){var e=this;this.isShown&&this.options.keyboard?t(document).on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||t(document).off("keyup.dismiss.modal")}var r=function(e,s){this.options=s,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this))};r.prototype={constructor:r,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this;this.isShown||(t("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),o.call(this),n.call(this,function(){var s=t.support.transition&&e.$element.hasClass("fade");!e.$element.parent().length&&e.$element.appendTo(document.body),e.$element.show(),s&&e.$element[0].offsetWidth,e.$element.addClass("in"),s?e.$element.one(t.support.transition.end,function(){e.$element.trigger("shown")}):e.$element.trigger("shown")}))},hide:function(n){if(n&&n.preventDefault(),this.isShown){this.isShown=!1,t("body").removeClass("modal-open"),o.call(this),this.$element.trigger("hide").removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?e.call(this):s.call(this)}}},t.fn.modal=function(e){return this.each(function(){var s=t(this),n=s.data("modal"),i=t.extend({},t.fn.modal.defaults,s.data(),"object"==typeof e&&e);n||s.data("modal",n=new r(this,i)),"string"==typeof e?n[e]():i.show&&n.show()})},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=r,t(function(){t("body").on("click.modal.data-api",'[data-toggle="modal"]',function(e){var s,n=t(this),i=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("modal")?"toggle":t.extend({},i.data(),n.data());e.preventDefault(),i.modal(o)})})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,s,n){var i,o;this.type=e,this.$element=t(s),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(i="hover"==this.options.trigger?"mouseenter":"focus",o="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(i,this.options.selector,t.proxy(this.enter,this)),this.$element.on(o,this.options.selector,t.proxy(this.leave,this))),this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return e=t.extend({},t.fn[this.type].defaults,e,this.$element.data()),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var s=t(e.currentTarget)[this.type](this._options).data(this.type);s.options.delay&&s.options.delay.show?(s.hoverState="in",setTimeout(function(){"in"==s.hoverState&&s.show()},s.options.delay.show)):s.show()},leave:function(e){var s=t(e.currentTarget)[this.type](this._options).data(this.type);s.options.delay&&s.options.delay.hide?(s.hoverState="out",setTimeout(function(){"out"==s.hoverState&&s.hide()},s.options.delay.hide)):s.hide()},show:function(){var t,e,s,n,i,o,r;if(this.hasContent()&&this.enabled){switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),t.remove().css({top:0,left:0,display:"block"}).appendTo(e?this.$element:document.body),s=this.getPosition(e),n=t[0].offsetWidth,i=t[0].offsetHeight,e?o.split(" ")[1]:o){case"bottom":r={top:s.top+s.height,left:s.left+s.width/2-n/2};break;case"top":r={top:s.top-i,left:s.left+s.width/2-n/2};break;case"left":r={top:s.top+s.height/2-i/2,left:s.left-n};break;case"right":r={top:s.top+s.height/2-i/2,left:s.left+s.width}}t.css(r).addClass(o).addClass("in")}},setContent:function(){var t=this.tip();t.find(".tooltip-inner").html(this.getTitle()),t.removeClass("fade in top bottom left right")},hide:function(){function e(){var e=setTimeout(function(){s.off(t.support.transition.end).remove()},500);s.one(t.support.transition.end,function(){clearTimeout(e),s.remove()})}var s=this.tip();s.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?e():s.remove()},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(e){return t.extend({},e?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var t,e=this.$element,s=this.options;return t=e.attr("data-original-title")||("function"==typeof s.title?s.title.call(e[0]):s.title),t=(t||"").toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip=this.$tip||t(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},t.fn.tooltip=function(s){return this.each(function(){var n=t(this),i=n.data("tooltip"),o="object"==typeof s&&s;i||n.data("tooltip",i=new e(this,o)),"string"==typeof s&&i[s]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var e=this.tip(),s=this.getTitle(),n=this.getContent();e.find(".popover-title")["object"==t.type(s)?"append":"html"](s),e.find(".popover-content > *")["object"==t.type(n)?"append":"html"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t,e=this.$element,s=this.options;return t=e.attr("data-content")||("function"==typeof s.content?s.content.call(e[0]):s.content),t=t.toString().replace(/(^\s*|\s*$)/,"")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip}}),t.fn.popover=function(s){return this.each(function(){var n=t(this),i=n.data("popover"),o="object"==typeof s&&s;i||n.data("popover",i=new e(this,o)),"string"==typeof s&&i[s]()})},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(t){"use strict";function e(e,s){var n,i=t.proxy(this.process,this),o=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,s),this.$scrollElement=o.on("scroll.scroll.data-api",i),this.selector=(this.options.target||(n=t(e).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body").on("click.scroll.data-api",this.selector,i),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var e=t(this).attr("href");return/^#\w/.test(e)&&t(e).length?e:null}),this.offsets=t.map(this.targets,function(e){return t(e).position().top})},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,s=this.offsets,n=this.targets,i=this.activeTarget;for(t=s.length;t--;)i!=n[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(n[t])},activate:function(t){var e;this.activeTarget=t,this.$body.find(this.selector).parent(".active").removeClass("active"),e=this.$body.find(this.selector+'[href="'+t+'"]').parent("li").addClass("active"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active")}},t.fn.scrollspy=function(s){return this.each(function(){var n=t(this),i=n.data("scrollspy"),o="object"==typeof s&&s;i||n.data("scrollspy",i=new e(this,o)),"string"==typeof s&&i[s]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t(function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,s,n=this.element,i=n.closest("ul:not(.dropdown-menu)"),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=i.find(".active a").last()[0],n.trigger({type:"show",relatedTarget:e}),s=t(o),this.activate(n.parent("li"),i),this.activate(s,s.parent(),function(){n.trigger({type:"shown",relatedTarget:e})}))},activate:function(e,s,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=s.find("> .active"),r=n&&t.support.transition&&o.hasClass("fade");r?o.one(t.support.transition.end,i):i(),o.removeClass("in")}},t.fn.tab=function(s){return this.each(function(){var n=t(this),i=n.data("tab");i||n.data("tab",i=new e(this)),"string"==typeof s&&i[s]()})},t.fn.tab.Constructor=e,t(function(){t("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})})}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.0.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(t){"use strict";var e=function(e,s){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,s),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=t(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(t),this.$element.change(),this.hide()},show:function(){var e=t.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:e.top+e.height,left:e.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var e,s=this;return this.query=this.$element.val(),this.query?(e=t.grep(this.source,function(t){return s.matcher(t)?t:void 0}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,s=[],n=[],i=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):i.push(e):s.push(e);return s.concat(n,i)},highlighter:function(t){return t.replace(new RegExp("("+this.query+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var s=this;return e=t(e).map(function(e,n){return e=t(s.options.item).attr("data-value",n),e.find("a").html(s.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(){var e=this.$menu.find(".active").removeClass("active"),s=e.next();s.length||(s=t(this.$menu.find("li")[0])),s.addClass("active")},prev:function(){var t=this.$menu.find(".active").removeClass("active"),e=t.prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),(t.browser.webkit||t.browser.msie)&&this.$element.on("keydown",t.proxy(this.keypress,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this))},keyup:function(t){switch(t.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},keypress:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},blur:function(){var t=this;setTimeout(function(){t.hide()},150)},click:function(t){t.stopPropagation(),t.preventDefault(),this.select()},mouseenter:function(e){this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")}},t.fn.typeahead=function(s){return this.each(function(){var n=t(this),i=n.data("typeahead"),o="object"==typeof s&&s;i||n.data("typeahead",i=new e(this,o)),"string"==typeof s&&i[s]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},t.fn.typeahead.Constructor=e,t(function(){t("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var s=t(this);s.data("typeahead")||(e.preventDefault(),s.typeahead(s.data()))})})}(window.jQuery),$(function(){function t(t,e,s){if("green"===s)var r=h;else if("red"===s)var r=p;var a=new google.maps.Marker({animation:google.maps.Animation.DROP,icon:r,map:l,position:e,shadow:f});google.maps.event.addListener(a,"click",function(){o&&o.close();var e=new google.maps.InfoWindow({maxWidth:210});google.maps.event.addListener(e,"closeclick",function(){m=!1}),o=e,n=t,i=a,$.ajax({type:"GET",url:"/info_window",data:{thing_id:t},success:function(t){e===o&&(e.setContent(t),e.open(l,a),m=!0)}})}),v.push(t)}function e(e,s){var n=$("#address_form input[type='submit']");$.ajax({type:"GET",url:"/things.json",data:{utf8:"✓",authenticity_token:$('#address_form input[name="authenticity_token"]').val(),lat:e,lng:s,limit:$('#address_form input[name="limit"]').val()},error:function(){$(n).attr("disabled",!1)},success:function(e){if($(n).attr("disabled",!1),e.errors)$("#address").parent().addClass("error"),$("#address").focus();else{$("#address").parent().removeClass("error");var s=-1;$(e).each(function(e,n){return-1!==$.inArray(n.id,v)?!0:(s+=1,setTimeout(function(){var e=new google.maps.LatLng(n.lat,n.lng);if(n.user_id)var s="green";else var s="red";t(n.id,e,s)},100*s),void 0)})}}})}function s(){$('#combo-form input[type="email"], #combo-form input[type="text"]:visible, #combo-form input[type="password"]:visible, #combo-form input[type="submit"]:visible, #combo-form input[type="tel"]:visible, #combo-form button:visible').each(function(){return""===$(this).val()||"submit"===$(this).attr("type")||"button"===this.tagName.toLowerCase()?($(this).focus(),!1):void 0})}var n,i,o,r=new google.maps.LatLng(42.358431,-71.059773),a={center:r,disableDoubleClickZoom:!0,keyboardShortcuts:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,maxZoom:19,minZoom:15,panControl:!1,rotateControl:!1,scaleControl:!1,scrollwheel:!1,streetViewControl:!0,zoom:15,zoomControl:!0},l=new google.maps.Map(document.getElementById("map"),a),d=new google.maps.Size(27,37),u=new google.maps.Point(0,0),c=new google.maps.Point(13,18),h=new google.maps.MarkerImage("/assets/markers/green-e60e1cb75f43d305e40567390df1f00c.png",d,u,c),p=new google.maps.MarkerImage("/assets/markers/red-48d6602409549d2b1d918ad2698c227a.png",d,u,c),f=new google.maps.MarkerImage("/assets/markers/shadow-c91a8a73612f9a1e33db01109034adb8.png",new google.maps.Size(46,37),u,c),m=!1,v=[];google.maps.event.addListener(l,"idle",function(){var t=l.getCenter();e(t.lat(),t.lng())}),$("#address_form").live("submit",function(){var t=$("#address_form input[type='submit']");return $(t).attr("disabled",!0),""===$("#address").val()?($(t).attr("disabled",!1),$("#address").parent().addClass("error"),$("#address").focus()):$.ajax({type:"GET",url:"/address.json",data:{utf8:"✓",authenticity_token:$('#address_form input[name="authenticity_token"]').val(),city_state:$("#city_state").val(),address:$("#address").val()},error:function(){$(t).attr("disabled",!1),$("#address").parent().addClass("error"),$("#address").focus()},success:function(s){if($(t).attr("disabled",!1),s.errors)$("#address").parent().addClass("error"),$("#address").focus();else{$("#address").parent().removeClass("error"),e(s[0],s[1]);var n=new google.maps.LatLng(s[0],s[1]);l.setCenter(n),l.setZoom(19)}}}),!1}),$('#combo-form input[type="radio"]').live("click",function(){var t=$(this);"new"===t.val()?($("#combo-form").data("state","user_sign_up"),$("#user_forgot_password_fields").slideUp(),$("#user_sign_in_fields").slideUp(),$("#user_sign_up_fields").slideDown(function(){s()})):"existing"===t.val()&&($("#user_sign_up_fields").slideUp(),$("#user_sign_in_fields").slideDown(function(){$("#combo-form").data("state","user_sign_in"),s(),$("#user_forgot_password_link").click(function(){$("#combo-form").data("state","user_forgot_password"),$("#user_sign_in_fields").slideUp(),$("#user_forgot_password_fields").slideDown(function(){s(),$("#user_remembered_password_link").click(function(){$("#combo-form").data("state","user_sign_in"),$("#user_forgot_password_fields").slideUp(),$("#user_sign_in_fields").slideDown(function(){s()})})})})}))}),$("#combo-form").live("submit",function(){var t=$("#combo-form input[type='submit']");$(t).attr("disabled",!0);var e=[];return/[\w\.%\+]+@[\w]+\.+[\w]{2,}/.test($("#user_email").val())?$("#user_email").parent().removeClass("error"):(e.push($("#user_email")),$("#user_email").parent().addClass("error")),$(this).data("state")&&"user_sign_up"!==$(this).data("state")?"user_sign_in"===$(this).data("state")?($("#user_password").val().length<6||$("#user_password").val().length>20?(e.push($("#user_password")),$("#user_password").parent().addClass("error")):$("#user_password").parent().removeClass("error"),e.length>0?($(t).attr("disabled",!1),e[0].focus()):$.ajax({type:"POST",url:"/users/sign_in.json",data:{utf8:"✓",authenticity_token:$('#combo-form input[name="authenticity_token"]').val(),user:{email:$("#user_email").val(),password:$("#user_password").val(),remember_me:$("#user_remember_me").val()}},error:function(){$(t).attr("disabled",!1),$("#user_password").parent().addClass("error"),$("#user_password").focus()},success:function(){$.ajax({type:"GET",url:"/sidebar/search",data:{flash:{notice:"Signed in!"}},success:function(t){$("#content").html(t)}})}})):"user_forgot_password"===$(this).data("state")&&(e.length>0?($(t).attr("disabled",!1),e[0].focus()):$.ajax({type:"POST",url:"/users/password.json",data:{utf8:"✓",authenticity_token:$('#combo-form input[name="authenticity_token"]').val(),user:{email:$("#user_email").val()}},error:function(){$(t).attr("disabled",!1),$("#user_email").parent().addClass("error"),$("#user_email").focus()},success:function(){$(t).attr("disabled",!1),$("#user_remembered_password_link").click(),$("#user_password").focus()}})):(""===$("#user_name").val()?(e.push($("#user_name")),$("#user_name").parent().addClass("error")):$("#user_name").parent().removeClass("error"),$("#user_password_confirmation").val().length<6||$("#user_password_confirmation").val().length>20?(e.push($("#user_password_confirmation")),$("#user_password_confirmation").parent().addClass("error")):$("#user_password_confirmation").parent().removeClass("error"),e.length>0?($(t).attr("disabled",!1),e[0].focus()):$.ajax({type:"POST",url:"/users.json",data:{utf8:"✓",authenticity_token:$('#combo-form input[name="authenticity_token"]').val(),user:{email:$("#user_email").val(),name:$("#user_name").val(),organization:$("#user_organization").val(),voice_number:$("#user_voice_number").val(),sms_number:$("#user_sms_number").val(),password:$("#user_password_confirmation").val(),password_confirmation:$("#user_password_confirmation").val()}},error:function(s){var n=$.parseJSON(s.responseText);$(t).attr("disabled",!1),n.errors.email&&(e.push($("#user_email")),$("#user_email").parent().addClass("error")),n.errors.name&&(e.push($("#user_name")),$("#user_name").parent().addClass("error")),n.errors.organization&&(e.push($("#user_organization")),$("#user_organization").parent().addClass("error")),n.errors.voice_number&&(e.push($("#user_voice_number")),$("#user_voice_number").parent().addClass("error")),n.errors.sms_number&&(e.push($("#user_sms_number")),$("#user_sms_number").parent().addClass("error")),n.errors.password&&(e.push($("#user_password_confirmation")),$("#user_password_confirmation").parent().addClass("error")),e[0].focus()},success:function(){$.ajax({type:"GET",url:"/sidebar/search",data:{flash:{notice:"Thanks for signing up!"}},success:function(t){$("#content").html(t)}})}})),!1}),$("#adoption_form").live("submit",function(){var t=$("#adoption_form input[type='submit']");return $(t).attr("disabled",!0),$.ajax({type:"POST",url:"/things.json",data:{id:$("#thing_id").val(),utf8:"✓",authenticity_token:$('#adoption_form input[name="authenticity_token"]').val(),_method:"put",thing:{user_id:$("#thing_user_id").val(),name:$("#thing_name").val()}},error:function(){$(t).attr("disabled",!1)},success:function(){$.ajax({type:"GET",url:"/info_window",data:{thing_id:n,flash:{notice:"You just adopted a bus stop!"}},success:function(t){o.close(),o.setContent(t),o.open(l,i),i.setIcon(h),i.setAnimation(google.maps.Animation.BOUNCE)}})}}),!1}),$("#abandon_form").live("submit",function(){var t=window.confirm("Are you sure you want to abandon this bus stop?");if(t){var e=$("#abandon_form input[type='submit']");$(e).attr("disabled",!0),$.ajax({type:"POST",url:"/things.json",data:{id:$("#thing_id").val(),utf8:"✓",authenticity_token:$('#abandon_form input[name="authenticity_token"]').val(),_method:"put",thing:{user_id:$("#thing_user_id").val(),name:$("#thing_name").val()}},error:function(){$(e).attr("disabled",!1)},success:function(){$.ajax({type:"GET",url:"/info_window",data:{thing_id:n,flash:{warning:"Bus stop abandoned!"}},success:function(t){o.close(),o.setContent(t),o.open(l,i),i.setIcon(p),i.setAnimation(null)}})}})}return!1}),$("#edit_profile_link").live("click",function(){var t=$(this);return $(t).addClass("disabled"),$.ajax({type:"GET",url:"/users/edit",error:function(){$(t).removeClass("disabled")},success:function(t){$("#content").html(t)}}),!1}),$("#edit_form").live("submit",function(){var t=$("#edit_form input[type='submit']");$(t).attr("disabled",!0);var e=[];return/[\w\.%\+\]+@[\w\]+\.+[\w]{2,}/.test($("#user_email").val())?$("#user_email").parent().removeClass("error"):(e.push($("#user_email")),$("#user_email").parent().addClass("error")),""===$("#user_name").val()?(e.push($("#user_name")),$("#user_name").parent().addClass("error")):$("#user_name").parent().removeClass("error"),""==$("#user_zip").val()||/^\d{5}(-\d{4})?$/.test($("#user_zip").val())?$("#user_zip").parent().removeClass("error"):(e.push($("#user_zip")),$("#user_zip").parent().addClass("error")),$("#user_password").val()&&($("#user_password").val().length<6||$("#user_password").val().length>20)?(e.push($("#user_password")),$("#user_password").parent().addClass("error")):$("#user_password").parent().removeClass("error"),$("#user_current_password").val().length<6||$("#user_current_password").val().length>20?(e.push($("#user_current_password")),$("#user_current_password").parent().addClass("error")):$("#user_current_password").parent().removeClass("error"),e.length>0?($(t).attr("disabled",!1),e[0].focus()):$.ajax({type:"POST",url:"/users.json",data:{id:$("#id").val(),thing_id:n,utf8:"✓",authenticity_token:$('#edit_form input[name="authenticity_token"]').val(),_method:"put",user:{email:$("#user_email").val(),name:$("#user_name").val(),organization:$("#user_organization").val(),voice_number:$("#user_voice_number").val(),sms_number:$("#user_sms_number").val(),address_1:$("#user_address_1").val(),address_2:$("#user_address_2").val(),city:$("#user_city").val(),state:$("#user_state").val(),zip:$("#user_zip").val(),password:$("#user_password").val(),password_confirmation:$("#user_password").val(),current_password:$("#user_current_password").val()}},error:function(s){var n=$.parseJSON(s.responseText);$(t).attr("disabled",!1),n.errors.email&&(e.push($("#user_email")),$("#user_email").parent().addClass("error")),n.errors.name&&(e.push($("#user_name")),$("#user_name").parent().addClass("error")),n.errors.organization&&(e.push($("#user_organization")),$("#user_organization").parent().addClass("error")),n.errors.voice_number&&(e.push($("#user_voice_number")),$("#user_voice_number").parent().addClass("error")),n.errors.sms_number&&(e.push($("#user_sms_number")),$("#user_sms_number").parent().addClass("error")),n.errors.address_1&&(e.push($("#user_address_1")),$("#user_address_1").parent().addClass("error")),n.errors.address_2&&(e.push($("#user_address_2")),$("#user_address_2").parent().addClass("error")),n.errors.city&&(e.push($("#user_city")),$("#user_city").parent().addClass("error")),n.errors.state&&(e.push($("#user_state")),$("#user_state").parent().addClass("error")),n.errors.zip&&(e.push($("#user_zip")),$("#user_zip").parent().addClass("error")),n.errors.password&&(e.push($("#user_password")),$("#user_password").parent().addClass("error")),n.errors.current_password&&(e.push($("#user_current_password")),$("#user_current_password").parent().addClass("error")),e[0].focus()},success:function(t){$("#content").html(t)}}),!1}),$("#sign_out_link").live("click",function(){var t=$(this);return $(t).addClass("disabled"),$.ajax({type:"DELETE",url:"/users/sign_out.json",error:function(){$(t).removeClass("disabled")},success:function(){$.ajax({type:"GET",url:"/sidebar/combo_form",data:{flash:{warning:"Signed out."}},success:function(t){$("#content").html(t)}})}}),!1}),$("#sign_in_form").live("submit",function(){var t=$("#sign_in_form input[type='submit']");return $(t).attr("disabled",!0),$.ajax({type:"GET",url:"/users/sign_in",error:function(){$(t).attr("disabled",!1)},success:function(t){o.close(),o.setContent(t),o.open(l,i)}}),!1}),$("#back_link").live("click",function(){var t=$(this);return $(t).addClass("disabled"),$.ajax({type:"GET",url:"/sidebar/search",error:function(){$(t).removeClass("disabled")},success:function(t){$("#content").html(t)}}),!1}),$("#reminder_form").live("submit",function(){var t=$("#reminder_form input[type='submit']");return $(t).attr("disabled",!0),$.ajax({type:"POST",url:"/reminders.json",data:{utf8:"✓",authenticity_token:$('#reminder_form input[name="authenticity_token"]').val(),reminder:{to_user_id:$("#reminder_to_user_id").val(),thing_id:n}},error:function(){$(t).attr("disabled",!1)},success:function(){$.ajax({type:"GET",url:"/info_window",data:{thing_id:n,flash:{notice:"Reminder sent!"}},success:function(t){o.close(),o.setContent(t),o.open(l,i)}})}}),!1}),$(".alert-message").alert()});